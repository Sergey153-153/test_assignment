21.02 20:42 - "что нужно для небольшое веб-приложение для приёма и обработки заявок в ремонтную службу. Функционал (обязательный минимум) Роли (упрощённо): диспетчер и мастер. Авторизацию можно сделать простой: выбор пользователя на странице или логин по имени/паролю (сиды в БД). Заявка (Request) должна иметь поля: clientName (обязательно) phone (обязательно) address (обязательно) problemText (обязательно) status (одно из): new | assigned | in_progress | done | canceled assignedTo (мастер, может быть пустым) createdAt, updatedAt Страницы/экраны (обязательные) 1) Создание заявки Форма создания заявки (клиент/телефон/адрес/описание). После создания заявка имеет статус new. 2) Панель диспетчера список заявок фильтр по статусу назначить мастера (статус assigned) отменить заявку (статус canceled) 3) Панель мастера список заявок, назначенных на текущего мастера действие “Взять в работу” (перевод assigned → in_progress) действие “Завершить” (перевод in_progress → done) Обязательное условие (проверка “гонки”) Действие “Взять в работу” должно быть безопасным при параллельных запросах: если два запроса пришли одновременно, заявка не должна “сломаться”. Корректное поведение: один запрос успешен, второй получает отказ (например, 409 Conflict) или понятный ответ, что заявка уже взята. php, SQLite Windows, VS Code, Docker Desktop дай структуру проекта"
21.02 21:03 - "Давай"
21.02 21:13 - "Создай тестовых пользователей"
21.02 21:40 - "<td>
        <?php if($r['status']=='assigned'): ?>
        <form method="POST" action="index.php">
            <input type="hidden" name="action" value="take_in_progress">
            <input type="hidden" name="requestId" value="<?=$r['id']?>">
            <input type="hidden" name="masterId" value="<?=currentUser()['id']?>">
            <button type="submit">Взять в работу</button>
        </form>

        <form method="POST" action="index.php">
            <input type="hidden" name="action" value="done">
            <input type="hidden" name="requestId" value="<?=$r['id']?>">
            <button type="submit">Завершить</button>
        </form>
        <?php else: ?>
            -
        <?php endif; ?>
    </td>
после взять в работу можно было нажать сделано или отменить"
